/**
 * Global Styles & Design System Tokens
 * 
 * Spec: /specs/013-neon-flux-design-system/spec.md
 * Tokens organized in three tiers: primitives → semantic → component
 */

/* Import design system tokens (Tier 1-3) */
@import './tokens/primitives.css';
@import './tokens/semantic.css';
@import './tokens/component.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Prevent transitions during theme switch to avoid flash */
  .theme-switching * {
    transition: none !important;
  }
}

@layer components {
  /* Chat typography optimizations */
  .prose-chat {
    @apply text-chat-body;
    max-width: 65ch;
  }

  .prose-chat h1 {
    @apply text-2xl font-bold leading-tight mb-3;
  }

  .prose-chat h2 {
    @apply text-xl font-semibold leading-snug mb-2;
  }

  .prose-chat h3 {
    @apply text-lg font-semibold leading-normal mb-2;
  }

  .prose-chat h4 {
    @apply text-base font-semibold leading-normal mb-2;
  }

  .prose-chat code {
    @apply font-mono text-chat-code-inline bg-code-inline-bg px-1 py-0.5 rounded;
  }

  .prose-chat pre {
    @apply bg-code-block-bg border border-code-block-border rounded-lg p-4 overflow-x-auto;
  }

  .prose-chat pre code {
    @apply bg-transparent p-0 text-chat-code;
  }

  .prose-chat a {
    @apply text-link hover:text-link-hover underline;
  }

  /* Typing indicator animations (Neon Flux - glowing dots) */
  .typing-dot {
    @apply w-2 h-2 rounded-full;
    background: hsl(221, 91%, 60%); /* Blue #3b82f6 */
    box-shadow: 0 0 10px hsl(221, 91%, 60%);
    animation: typing-glow 1.4s ease-in-out infinite;
  }

  .typing-dot-delay-1 {
    animation-delay: 0.2s;
  }

  .typing-dot-delay-2 {
    animation-delay: 0.4s;
  }

  .typing-pulse {
    @apply w-3 h-3 rounded-full;
    background: hsl(221, 91%, 60%);
    box-shadow: 0 0 12px hsl(221, 91%, 60%);
    animation: typing-pulse 1.5s ease-in-out infinite;
  }

  @keyframes typing-glow {
    0%,
    60%,
    100% {
      transform: translateY(0);
      opacity: 0.7;
    }
    30% {
      transform: translateY(-10px);
      opacity: 1;
    }
  }

  @keyframes typing-pulse {
    0%,
    100% {
      transform: scale(1);
      opacity: 0.6;
    }
    50% {
      transform: scale(1.3);
      opacity: 0.3;
    }
  }
}
